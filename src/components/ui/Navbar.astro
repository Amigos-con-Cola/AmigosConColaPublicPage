---
import MainButton from "../ui/MainButton.astro";
const navItems = [
  {
    title: "Nosotros",
    label: "nosotros",
    url: "/#nosotros",
  },
  {
    title: "Animales",
    label: "animales",
    url: "/#animales",
  },
  {
    title: "Como ayudar",
    label: "como-ayudar",
    url: "/#como-ayudar",
  },
  {
    title: "Donar",
    label: "donar",
    url: "/#donar",
  },
];
---

<header id="navbar" class="fixed md:h-20 w-full z-30 top-0 start-0">
  <div
    class="max-container mx-auto flex flex-wrap items-center justify-between"
  >
    <a href="/#inicio" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="./logo.png" class="w-14 h-14 md:size-20" alt="Flowbite Logo" />

      <div
        class="text-sm text-center md:items-center md:font-semibold lg:text-2xl"
      >
        <span class="lg:w-full">Amigos con cola</span>
      </div>
    </a>
    <div
      class="flex mr-2 md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse"
    >
      <a
        target="_blank"
        rel="noopener noreferrer"
        href="https://docs.google.com/forms/d/1lRwAZyao1NNF9XR7RAQzzCmEt5OvDjgRg-_SiUb6rJU/viewform?edit_requested=true"
      >
        <button
          type="button"
          class="py-2 px-2 font-semibold rounded-lg hover:scale-105 transition-all bg-primary text-white"
        >
          Adoptar</button
        >
      </a>
      <button
        type="button"
        class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200"
        id="navbar-sticky-button"
        aria-expanded="false"
      >
        <span class="sr-only">Abrir men√∫ principal</span>
        <svg
          class="w-5 h-5"
          aria-hidden="true"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 17 14"
        >
          <path
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M1 1h15M1 7h15M1 13h15"></path>
        </svg>
      </button>
    </div>
    <div
      class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1"
      id="navbar-sticky"
    >
      <nav
        class="flex flex-col p-4 md:p-0 mt-4 font-medium text-sm lg:text-lg border border-gray-100 rounded-lg bg-gray-50 md:bg-transparent md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0"
      >
        {
          navItems.map((item) => (
            <a
              href={item.url}
              class="block py-2 px-3 transition text-gray-900 rounded hover:bg-primary md:hover:bg-transparent md:hover:text-primary md:p-0"
              aria-label={item.label}
              name={item.label}
            >
              {item.title}
            </a>
          ))
        }
      </nav>
    </div>
  </div>
</header>

<script>
  import { Collapse } from "flowbite";
  const $target = document.getElementById("navbar-sticky");
  const $triggerEl: HTMLElement | null = document.getElementById(
    "navbar-sticky-button",
  );
  const collapse = new Collapse($target, $triggerEl);

  const $itemNosotros = document.getElementsByName("nosotros")[0];
  const $itemAnimales = document.getElementsByName("animales")[0];
  const $itemComoAyudar = document.getElementsByName("como-ayudar")[0];
  const $itemDonar = document.getElementsByName("donar")[0];

  $itemNosotros?.addEventListener("click", (event) => {
    console.log("click");
    collapse.toggle();
  });
  $itemAnimales?.addEventListener("click", () => {
    collapse.toggle();
  });
  $itemComoAyudar?.addEventListener("click", () => {
    collapse.toggle();
  });
  $itemDonar?.addEventListener("click", () => {
    collapse.toggle();
  });
</script>
